# Description: Bootstrap powerpc[64] binaries of Rust package manager
# URL: https://www.rust-lang.org/
# Maintainer: cruxppc at gmail dot com

name=cargo-bootstrap
_date=2021-12-02

case $(uname -m) in
	ppc) 
		version=0.58.0
		ARCH=powerpc 
		_url="https://alpha.de.repo.voidlinux.org/distfiles/cargo-$version-$ARCH-unknown-linux-gnu.tar.xz"
	;;
	ppc64) 
		version=1.57.0
		ARCH=powerpc64 
		_url="https://static.rust-lang.org/dist/$_date/cargo-$version-$ARCH-unknown-linux-gnu.tar.xz"
	;;
	*) echo unknown arch!; exit 1 ;;
esac

release=1
source=($_url)

build() {
	cd cargo-$version-powerpc*
	mkdir -p $PKG/usr/bin
	cp cargo/bin/cargo  $PKG/usr/bin
}
